<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Faceted</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Faceted.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-Faceted.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">faceted-0.1.0.0: Haskell Implementation of Faceted Values</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Data.Faceted</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Faceted values with faceted execution
</p><p>Inspired by Thomas H. Austin and Cormac Flanagan,
 <a href="http://users.soe.ucsc.edu/~cormac/papers/popl12b.pdf">&quot;Multiple Facets for Dynamic Information Flow.&quot;</a>
</p><p>A faceted value &lt; k ? V_H : V_L&gt; is a triple consisting of a principal <code>k</code> and two values <code>V_H</code> and <code>V_L</code>.
 Intuitively, this faceted value appears as <code>V_H</code> to private observers that can view <code>k</code>&#8217;s private data,
 and as <code>V_L</code> to other public observers. We refer to <code>V_H</code> and <code>V_L</code> as private and public facets, respectively.
</p><p>This module supports intuitive syntax suger by (?) and (.:) operators.
 Use (??) operator instead of (?) when you declare nested faceted values.
 In this module, principal is modeled by <code>(ctx -&gt; Bool)</code>.
 Returning <code>True</code> means <code>ctx</code> is a private observer, <code>False</code> means it is a public observer.
</p><pre>
 (x -&gt; x &gt; 0) ? 1 .: 0
 (x -&gt; x &gt; 0) ?? ((y -&gt; y &gt; 1) ? 4 .: 3) .: ((z -&gt; z &lt; 2) ? 2 .: 1)
</pre><p>To observe faceted value, use <code><a href="Data-Faceted.html#v:observe">observe</a></code> or <code><a href="Data-Faceted.html#v:runFaceted">runFaceted</a></code> function.
 When observing faceted values, returning True means that the observer is private one, False means public one.
</p><pre>
 observe ((x -&gt; x ==&quot;Me&quot;) ? 1 .: 0) &quot;Me&quot;
 1
 observe ((x -&gt; x ==<a href="Me.html">Me</a>) ? 1 .: 0) &quot;SomeOne&quot;
 0
</pre></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Faceted">Faceted</a> ctx a = Free (Facets ctx) a</li><li class="src short"><a href="#v:-63-">(?)</a> ::  (ctx -&gt; <a href="file:///usr/local/Cellar/ghc/7.6.3/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a>) -&gt; (a, a) -&gt; <a href="Data-Faceted.html#t:Faceted">Faceted</a> ctx a</li><li class="src short"><a href="#v:-63--63-">(??)</a> ::  (ctx -&gt; <a href="file:///usr/local/Cellar/ghc/7.6.3/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a>) -&gt; (<a href="Data-Faceted.html#t:Faceted">Faceted</a> ctx a, <a href="Data-Faceted.html#t:Faceted">Faceted</a> ctx a) -&gt; <a href="Data-Faceted.html#t:Faceted">Faceted</a> ctx a</li><li class="src short"><a href="#v:.:">(.:)</a> ::  a -&gt; a -&gt; (a, a)</li><li class="src short"><a href="#v:constF">constF</a> ::  a -&gt; <a href="Data-Faceted.html#t:Faceted">Faceted</a> ctx a</li><li class="src short"><a href="#v:principal">principal</a> ::  Facets ctx val -&gt; ctx -&gt; <a href="file:///usr/local/Cellar/ghc/7.6.3/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:runFaceted">runFaceted</a> ::  <a href="Data-Faceted.html#t:Faceted">Faceted</a> ctx a -&gt; ctx -&gt; a</li><li class="src short"><a href="#v:observe">observe</a> ::  <a href="Data-Faceted.html#t:Faceted">Faceted</a> ctx a -&gt; ctx -&gt; a</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Faceted" class="def">Faceted</a> ctx a = Free (Facets ctx) a<a href="src/Data-Faceted.html#Faceted" class="link">Source</a></p><div class="doc"><p>Type for Faceted Value: &lt; k ? V_H : V_L&gt;
</p><p>Please Note that this type utilizes <code><a href="file:///usr/local/Cellar/ghc/7.6.3/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Free">Free</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:-63-" class="def">(?)</a> ::  (ctx -&gt; <a href="file:///usr/local/Cellar/ghc/7.6.3/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a>) -&gt; (a, a) -&gt; <a href="Data-Faceted.html#t:Faceted">Faceted</a> ctx a<a href="src/Data-Faceted.html#%3F" class="link">Source</a></p><div class="doc"><p>Constructor for unnested faceted values
</p><pre>
 (x -&gt; x &gt; 0) ? 2 .: 1
</pre><p>The value in (?) operator will be treated as values in this faceted value.
 This means that <code>Faceted ctx (Faceted ctx b)</code> can be possible.
 Note that <code>Faceted ctx (Faceted ctx b)</code> is essentially different from nested faceted values.
</p></div></div><div class="top"><p class="src"><a name="v:-63--63-" class="def">(??)</a> ::  (ctx -&gt; <a href="file:///usr/local/Cellar/ghc/7.6.3/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a>) -&gt; (<a href="Data-Faceted.html#t:Faceted">Faceted</a> ctx a, <a href="Data-Faceted.html#t:Faceted">Faceted</a> ctx a) -&gt; <a href="Data-Faceted.html#t:Faceted">Faceted</a> ctx a<a href="src/Data-Faceted.html#%3F%3F" class="link">Source</a></p><div class="doc"><p>Constructor for nested faceted values
</p><pre>
 (x -&gt; x &gt; 0) ?? ((y -&gt; y &gt; 1) ? 4 .: 3) .: ((z -&gt; z &lt; 2) ? 2 .: 1)
</pre></div></div><div class="top"><p class="src"><a name="v:.:" class="def">(.:)</a> ::  a -&gt; a -&gt; (a, a)<a href="src/Data-Faceted.html#.%3A" class="link">Source</a></p><div class="doc"><p>This works as a part of faceted values constructor.
</p></div></div><div class="top"><p class="src"><a name="v:constF" class="def">constF</a> ::  a -&gt; <a href="Data-Faceted.html#t:Faceted">Faceted</a> ctx a<a href="src/Data-Faceted.html#constF" class="link">Source</a></p><div class="doc"><p><code> (constF a) </code> is equivalent with <code> (const True) ? a .: a </code>
</p><p>This would be useful when you declare like below:
</p><pre>
 ( &quot;Me&quot; ?? (constF myLocation) .: &quot;CoWorker&quot; ? &quot;Office&quot; .: &quot;In the City&quot;)
</pre></div></div><div class="top"><p class="src"><a name="v:principal" class="def">principal</a> ::  Facets ctx val -&gt; ctx -&gt; <a href="file:///usr/local/Cellar/ghc/7.6.3/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a><a href="src/Data-Faceted.html#principal" class="link">Source</a></p><div class="doc"><p>principal extractor
</p></div></div><div class="top"><p class="src"><a name="v:runFaceted" class="def">runFaceted</a> ::  <a href="Data-Faceted.html#t:Faceted">Faceted</a> ctx a -&gt; ctx -&gt; a<a href="src/Data-Faceted.html#runFaceted" class="link">Source</a></p><div class="doc"><p>Evaluator for faceted values.  Its semantics is faceted execution denoted in the paper above.
</p><pre>
 observe ((x -&gt; x ==&quot;Me&quot;) ? 1 .: 0) &quot;Me&quot;
 1
 observe ((x -&gt; x ==<a href="Me.html">Me</a>) ? 1 .: 0) &quot;SomeOne&quot;
 0
</pre></div></div><div class="top"><p class="src"><a name="v:observe" class="def">observe</a> ::  <a href="Data-Faceted.html#t:Faceted">Faceted</a> ctx a -&gt; ctx -&gt; a<a href="src/Data-Faceted.html#observe" class="link">Source</a></p><div class="doc"><p>an idiom of runFaceted
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>